# -*- coding: utf-8 -*-
from matplotlib import pyplot as plt
import matplotlib as mpl
import numpy as np
import json
import time
import os

import constants as const


def plot_that_shit():
    fig = plt.figure(figsize=(3.5, 3.5))

    for line in [1, 0, -1, -2, -3]:
        plt.axhline(line, linestyle='--', linewidth=0.7)
        plt.axvline(line, linestyle='--', linewidth=0.7)

    t_list = list(np.linspace(-2, 1, 40))

    s_list8 = [-3.0, -2.923076923076923, -2.769230769230769, -2.5384615384615383, -2.3846153846153846, -2.1538461538461537, -2.0, -1.7692307692307692, -1.6153846153846154, -1.3846153846153846, -1.2307692307692306, -1.0769230769230769, -0.8461538461538458, -0.6153846153846154, -0.46153846153846123]
    s_list8_big = [-3.0, -2.923076923076923, -2.769230769230769, -2.5384615384615383, -2.3846153846153846, -2.1538461538461537, -2.0, -1.7692307692307692, -1.6153846153846154, -1.3846153846153846, -1.2307692307692306, -1.0769230769230769, -0.8461538461538458, -0.6153846153846154, -0.46153846153846123]
    s_list32 = [-3.0, -2.923076923076923, -2.8461538461538463, -2.769230769230769, -2.6923076923076925, -2.6153846153846154, -2.5384615384615383, -2.4615384615384617, -2.3846153846153846, -2.3076923076923075, -2.230769230769231, -2.1538461538461537, -2.0769230769230766, -2.0, -1.923076923076923, -1.846153846153846, -1.7692307692307692, -1.6153846153846154, -1.4615384615384615, -1.3846153846153846, -1.2307692307692306, -1.0769230769230769, -0.9230769230769229, -0.8461538461538458, -0.6923076923076921, -0.6153846153846154, -0.46153846153846123, -0.3846153846153846]
    s_list128 = [-3.0, -2.923076923076923, -2.8461538461538463, -2.769230769230769, -2.6923076923076925, -2.6153846153846154, -2.5384615384615383, -2.4615384615384617, -2.3846153846153846, -2.3076923076923075, -2.230769230769231, -2.1538461538461537, -2.0769230769230766, -2.0, -1.923076923076923, -1.846153846153846, -1.7692307692307692, -1.6923076923076923, -1.6153846153846154, -1.5384615384615383, -1.4615384615384615, -1.3846153846153846, -1.2307692307692306, -1.1538461538461537, -1.0, -0.9230769230769229, -0.8461538461538458, -0.6923076923076921, -0.6153846153846154, -0.46153846153846123, -0.3846153846153846, -0.3076923076923075, -0.23076923076923084, -0.15384615384615374]
    s_list999 = [-2.923076923076923, -2.8461538461538463, -2.769230769230769, -2.6923076923076925, -2.6153846153846154, -2.5384615384615383, -2.4615384615384617, -2.3846153846153846, -2.3076923076923075, -2.230769230769231, -2.1538461538461537, -2.0769230769230766, -2.0, -1.923076923076923, -1.846153846153846, -1.7692307692307692, -1.6923076923076923, -1.6153846153846154, -1.5384615384615383, -1.4615384615384615, -1.3846153846153846, -1.3076923076923075, -1.2307692307692306, -1.1538461538461537, -1.0769230769230769, -1.0, -0.9230769230769229, -0.8461538461538458, -0.7692307692307692, -0.6923076923076921, -0.6153846153846154, -0.5384615384615383, -0.46153846153846123, -0.3846153846153846, -0.3076923076923075, -0.23076923076923084, -0.15384615384615374, -0.07692307692307665, 0.0, 0.0]

    plt.scatter(s_list8, t_list[40-len(s_list8):], s=35, marker='o', facecolor='none', edgecolor='black', label=r'$k=8$')
    plt.scatter(s_list32, t_list[40-len(s_list32):], s=35, marker='p', facecolor='none', edgecolor='black', label=r'$k=32$')
    plt.scatter(s_list128, t_list[40-len(s_list128):], s=26, marker='D', facecolor='none', edgecolor='black', label=r'$k=128$')
    plt.scatter(s_list999, t_list, s=35, marker='v', facecolor='none', edgecolor='black', label=r'$k=999$')
    plt.scatter(s_list8_big, t_list[40-len(s_list8_big):], s=30, marker='s', facecolor='none', edgecolor='black', label=r'$N=10^4$')

    for x in [s_list8, s_list8_big, s_list32, s_list128, s_list999]:
        plt.fill_between(x + [1], -3, t_list[40-len(x):] + [2], color=const.GREEN, alpha=0.08)
        plt.fill_between([-4] + x, 2, [-3] + t_list[40-len(x):], color=const.BLUE, alpha=0.08)

    plt.legend(loc=4, fontsize=8)
    plt.xticks(np.arange(-3, 1, step=1))
    plt.yticks(np.arange(-2, 2, step=1))

    plt.text(-2.9, 0.55, "coordination on\nthe strategy B", color=const.BLUE, fontsize=10)
    plt.text(-2.4, -1.9, "coordination on\nthe strategy A", color=const.GREEN_DARK, fontsize=10)

    plt.xlabel(r'$S$')
    plt.ylabel(r'$T$')
    plt.xlim([-3, 0])
    plt.ylim([-2, 1])
    plt.title('c', loc='left', fontweight='bold')
    plt.title('UI')

    plt.tight_layout()
    plt.savefig('diagram_imit.png')
    plt.show()


if __name__ == '__main__':
    plot_that_shit()